import logging

import numpy as np

import sksdr

_log = logging.getLogger(__name__)

def test_rrc():
    upsampling = 4
    rolloff = 0.5
    span = 10
    expected_coeffs = [
        -0.00032153663484369224, 0.0029482757365995446, 0.0025009680838767156, -0.001910843539177682,
        -0.005052718547543872,  -0.0019108435391776751, 0.005359217322592971,   0.008226307824498015,
         0.0015158155642631564, -0.008226307824498019, -0.007502904251630149,   0.007734366706195372,
         0.021221417899684264,   0.007734366706195362, -0.037514521258150815,  -0.07842413459354777,
        -0.05305354474921063,    0.07842413459354781,   0.28932658035576947,    0.48726510249030763]
    expected_coeffs = np.hstack((expected_coeffs, [0.5683302081417902], np.flip(expected_coeffs)))
    coeffs = sksdr.rrc(upsampling, rolloff, span)
    assert np.all(coeffs == expected_coeffs)
